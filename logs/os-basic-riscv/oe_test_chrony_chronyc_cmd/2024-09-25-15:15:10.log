Wed Sep 25 15:15:12 2024 - INFO  - Start to prepare the test environment.
Wed Sep 25 15:15:16 2024 - INFO  - pkgs:(chrony) is already installed
Wed Sep 25 15:15:17 2024 - INFO  - End to prepare the test environment.
Wed Sep 25 15:15:17 2024 - INFO  - Start to run test.
     Active: active (running) since Wed 2024-09-25 14:34:20 CST; 40min ago
expect version 5.45.4
argv[0] = expect  argv[1] = -d  
set argc 0
set argv0 "expect"
set argv ""
executing commands from command file
spawn chronyc
parent: waiting for sync byte
parent: telling child to go ahead
parent: now unsynchronized from child
spawn: returns {2200400}

expect: does "" (spawn_id exp4) match glob pattern "chronyc>"? no
chrony version 4.3
Copyright (C) 1997-2003, 2007, 2009-2022 Richard P. Curnow and others
chrony comes with ABSOLUTELY NO WARRANTY.  This is free software, and
you are welcome to redistribute it under certain conditions.  See the
GNU General Public License version 2 for details.


expect: does "chrony version 4.3\r\nCopyright (C) 1997-2003, 2007, 2009-2022 Richard P. Curnow and others\r\nchrony comes with ABSOLUTELY NO WARRANTY.  This is free software, and\r\nyou are welcome to redistribute it under certain conditions.  See the\r\nGNU General Public License version 2 for details.\r\n\r\n" (spawn_id exp4) match glob pattern "chronyc>"? no
chronyc> 
expect: does "chrony version 4.3\r\nCopyright (C) 1997-2003, 2007, 2009-2022 Richard P. Curnow and others\r\nchrony comes with ABSOLUTELY NO WARRANTY.  This is free software, and\r\nyou are welcome to redistribute it under certain conditions.  See the\r\nGNU General Public License version 2 for details.\r\n\r\nchronyc> " (spawn_id exp4) match glob pattern "chronyc>"? yes
expect: set expect_out(0,string) "chronyc>"
expect: set expect_out(spawn_id) "exp4"
expect: set expect_out(buffer) "chrony version 4.3\r\nCopyright (C) 1997-2003, 2007, 2009-2022 Richard P. Curnow and others\r\nchrony comes with ABSOLUTELY NO WARRANTY.  This is free software, and\r\nyou are welcome to redistribute it under certain conditions.  See the\r\nGNU General Public License version 2 for details.\r\n\r\nchronyc>"
send: sending "help\r" to { exp4 }

expect: does " " (spawn_id exp4) match glob pattern "chronyc>"? no
help
System clock:               
tracking                    Display system time information
makestep                    Correct clock by stepping immediately
makestep <threshold> <updates>

expect: does " help\r\nSystem clock:               \r\ntracking                    Display system time information\r\nmakestep                    Correct clock by stepping immediately\r\nmakestep <threshold> <updates>\r\n" (spawn_id exp4) match glob pattern "chronyc>"? no
                            Configure automatic clock stepping
maxupdateskew <skew>        Modify maximum valid skew to update frequency
waitsync [<max-tries> [<max-correction> [<max-skew> [<interval>]]]]
                            Wait until synchronised in specified limits
                            
Time sources:               
sources [-a] [-v]           Display information about current sources
sourcestats [-a] [-v]       Display statistics about collected measurements
selectdata [-a] [-v]        Display information about source selection
reselect                    Force reselecting synchronisation source
reselectdist <dist>         Modify reselection distance
                            
NTP sources:                
activity                    Check how many NTP sources are online/offline
authdata [-a] [-v]          Display information about authentication
ntpdata [<address>]         Display information about last valid measurement
add server <name> [options] Add new NTP server
expect: does " help\r\nSystem clock:               \r\ntracking                    Display system time information\r\nmakestep                    Correct clock by stepping immediately\r\nmakestep <threshold> <updates>\r\n                            Configure automatic clock stepping\r\nmaxupdateskew <skew>        Modify maximum valid skew to update frequency\r\nwaitsync [<max-tries> [<max-correction> [<max-skew> [<interval>]]]]\r\n                            Wait until synchronised in specified limits\r\n                            \r\nTime sources:               \r\nsources [-a] [-v]           Display information about current sources\r\nsourcestats [-a] [-v]       Display statistics about collected measurements\r\nselectdata [-a] [-v]        Display information about source selection\r\nreselect                    Force reselecting synchronisation source\r\nreselectdist <dist>         Modify reselection distance\r\n                            \r\nNTP sources:                \r\nactivity                    Check how many NTP sources are online/offline\r\nauthdata [-a] [-v]          Display information about authentication\r\nntpdata [<address>]         Display information about last valid measurement\r\nadd server <name> [options] Add new NTP server" (spawn_id exp4) match glob pattern "chronyc>"? no

add pool <name> [options]   Add new pool of NTP servers
add peer <name> [options]   Add new NTP peer
delete <address>            Remove server or peer
burst <n-good>/<n-max> [[<mask>/]<address>]
                            Start rapid set of measurements
maxdelay <address> <delay>  Modify maximum valid sample delay
maxdelayratio <address> <ratio>
                            Modify maximum valid delay/minimum ratio
maxdelaydevratio <address> <ratio>
                            Modify maximum valid delay/deviation ratio
minpoll <address> <poll>    Modify minimum polling interval
maxpoll <address> <poll>    Modify maximum polling interval
minstratum <address> <stratum>
                            Modify minimum stratum
offline [[<mask>/]<address>]
                            Set sources in subnet to offline status
online [[<mask>/]<address>] Set sources in subnet to online status
onoffline                   Set all sources to online or offline status
                            according to network configuration
polltarget <address> <target>
                            Modify poll target
refresh                     Refresh IP addresses
reload sources              Re-read *.sources files
sourcename <address>        Display original name
                            
Manual time input:          
manual off|on|reset         Disable/enable/reset settime command
manual list                 Show previous settime entries
manual delete <index>       Delete previous settime entry
settime <time>              Set daemon time
                            (e.g. Sep 25, 2015 16:30:05 or 16:30:05)
                            

expect: does " help\r\nSystem clock:               \r\ntracking                    Display system time information\r\nmakestep                    Correct clock by stepping immediately\r\nmakestep <threshold> <updates>\r\n                            Configure automatic clock stepping\r\nmaxupdateskew <skew>        Modify maximum valid skew to update frequency\r\nwaitsync [<max-tries> [<max-correction> [<max-skew> [<interval>]]]]\r\n                            Wait until synchronised in specified limits\r\n                            \r\nTime sources:               \r\nsources [-a] [-v]           Display information about current sources\r\nsourcestats [-a] [-v]       Display statistics about collected measurements\r\nselectdata [-a] [-v]        Display information about source selection\r\nreselect                    Force reselecting synchronisation source\r\nreselectdist <dist>         Modify reselection distance\r\n                            \r\nNTP sources:                \r\nactivity                    Check how many NTP sources are online/offline\r\nauthdata [-a] [-v]          Display information about authentication\r\nntpdata [<address>]         Display information about last valid measurement\r\nadd server <name> [options] Add new NTP server\r\nadd pool <name> [options]   Add new pool of NTP servers\r\nadd peer <name> [options]   Add new NTP peer\r\ndelete <address>            Remove server or peer\r\nburst <n-good>/<n-max> [[<mask>/]<address>]\r\n                            Start rapid set of measurements\r\nmaxdelay <address> <delay>  Modify maximum valid sample delay\r\nmaxdelayratio <address> <ratio>\r\n                            Modify maximum valid delay/minimum ratio\r\nmaxdelaydevratio <address> <ratio>\r\n                            Modify maximum valid delay/deviation ratio\r\nminpoll <address> <poll>    Modify minimum polling interval\r\nmaxpoll <address> <poll>    Modify maximum polling interval\r\nminstratum <address> <stratum>\r\n                            Modify minimum stratum\r\noffline [[<mask>/]<address>]\r\n                            Set sources in subnet to offline status\r\nonline [[<mask>/]<address>] Set sources in subnet to online status\r\nonoffline                   Set all sources to online or offline status\r\n                            according to network configuration\r\npolltarget <address> <target>\r\n                            Modify poll target\r\nrefresh                     Refresh IP addresses\r\nreload sources              Re-read *.sources files\r\nsourcename <address>        Display original name\r\n                            \r\nManual time input:          \r\nmanual off|on|reset         Disable/enable/reset settime command\r\nmanual list                 Show previous settime entries\r\nmanual delete <index>       Delete previous settime entry\r\nsettime <time>              Set daemon time\r\n                            (e.g. Sep 25, 2015 16:30:05 or 16:30:05)\r\n                            \r\n" (spawn_id exp4) match glob pattern "chronyc>"? no
NTP access:                 
accheck <address>           Check whether address is allowed
clients [-p <packets>] [-k] [-r]
                            Report on clients that accessed the server
serverstats                 Display statistics of the server
allow [<subnet>]            Allow access to subnet as a default
allow all [<subnet>]        Allow access to subnet and all children
deny [<subnet>]             Deny access to subnet as a default
deny all [<subnet>]         Deny access to subnet and all children
local [options]             Serve time even when not synchronised
local off                   Don't serve time when not synchronised
smoothtime reset|activate   Reset/activate time smoothing
smoothing                   Display current time smoothing state
                            
Monitoring access:          
cmdaccheck <address>        Check whether address is allowed
cmdallow [<subnet>]         Allow access to subnet as a default
cmdallow all [<subnet>]     Allow access to subnet and all children
cmddeny [<subnet>]          Deny access to subnet as a default
cmddeny all [<subnet>]      Deny access to subnet and all children
                            
Real-time clock:            
rtcdata                     Print current RTC performance parameters
trimrtc                     Correct RTC relative to system clock
writertc                    Save RTC performance parameters to file
                            
Other daemon commands:      
cyclelogs                   Close and re-open log files
dump                        Dump measurements and NTS keys/cookies
rekey                       Re-read keys
reset sources               Drop all measurements
shutdown                    Stop daemon
                            
Client commands:            
dns -n|+n                   Disable/enable resolving IP addresses to hostnames
dns -4|-6|-46               Resolve hostnames only to IPv4/IPv6/both addresses
expect: does " help\r\nSystem clock:               \r\ntracking                    Display system time information\r\nmakestep                    Correct clock by stepping immediately\r\nmakestep <threshold> <updates>\r\n                            Configure automatic clock stepping\r\nmaxupdateskew <skew>        Modify maximum valid skew to update frequency\r\nwaitsync [<max-tries> [<max-correction> [<max-skew> [<interval>]]]]\r\n                            Wait until synchronised in specified limits\r\n                            \r\nTime sources:               \r\nsources [-a] [-v]           Display information about current sources\r\nsourcestats [-a] [-v]       Display statistics about collected measurements\r\nselectdata [-a] [-v]        Display information about source selection\r\nreselect                    Force reselecting synchronisation source\r\nreselectdist <dist>         Modify reselection distance\r\n                            \r\nNTP sources:                \r\nactivity                    Check how many NTP sources are online/offline\r\nauthdata [-a] [-v]          Display information about authentication\r\nntpdata [<address>]         Display information about last valid measurement\r\nadd server <name> [options] Add new NTP server\r\nadd pool <name> [options]   Add new pool of NTP servers\r\nadd peer <name> [options]   Add new NTP peer\r\ndelete <address>            Remove server or peer\r\nburst <n-good>/<n-max> [[<mask>/]<address>]\r\n                            Start rapid set of measurements\r\nmaxdelay <address> <delay>  Modify maximum valid sample delay\r\nmaxdelayratio <address> <ratio>\r\n                            Modify maximum valid delay/minimum ratio\r\nmaxdelaydevratio <address> <ratio>\r\n                            Modify maximum valid delay/deviation ratio\r\nminpoll <address> <poll>    Modify minimum polling interval\r\nmaxpoll <address> <poll>    Modify maximum polling interval\r\nminstratum <address> <stratum>\r\n                            Modify minimum stratum\r\noffline [[<mask>/]<address>]\r\n                            Set sources in subnet to offline status\r\nonline [[<mask>/]<address>] Set sources in subnet to online status\r\nonoffline                   Set all sources to online or offline status\r\n                            according to network configuration\r\npolltarget <address> <target>\r\n                            Modify poll target\r\nrefresh                     Refresh IP addresses\r\nreload sources              Re-read *.sources files\r\nsourcename <address>        Display original name\r\n                            \r\nManual time input:          \r\nmanual off|on|reset         Disable/enable/reset settime command\r\nmanual list                 Show previous settime entries\r\nmanual delete <index>       Delete previous settime entry\r\nsettime <time>              Set daemon time\r\n                            (e.g. Sep 25, 2015 16:30:05 or 16:30:05)\r\n                            \r\nNTP access:                 \r\naccheck <address>           Check whether address is allowed\r\nclients [-p <packets>] [-k] [-r]\r\n                            Report on clients that accessed the server\r\nserverstats                 Display statistics of the server\r\nallow [<subnet>]            Allow access to subnet as a default\r\nallow all [<subnet>]        Allow access to subnet and all children\r\ndeny [<subnet>]             Deny access to subnet as a default\r\ndeny all [<subnet>]         Deny access to subnet and all children\r\nlocal [options]             Serve time even when not synchronised\r\nlocal off                   Don't serve time when not synchronised\r\nsmoothtime reset|activate   Reset/activate time smoothing\r\nsmoothing                   Display current time smoothing state\r\n                            \r\nMonitoring access:          \r\ncmdaccheck <address>        Check whether address is allowed\r\ncmdallow [<subnet>]         Allow access to subnet as a default\r\ncmdallow all [<subnet>]     Allow access to subnet and all children\r\ncmddeny [<subnet>]          Deny access to subnet as a default\r\ncmddeny all [<subnet>]      Deny access to subnet and all children\r\n                            \r\nReal-time clock:            \r\nrtcdata                     Print current RTC performance parameters\r\ntrimrtc                     Correct RTC relative to system clock\r\nwritertc                    Save RTC performance parameters to file\r\n                            \r\nOther daemon commands:      \r\ncyclelogs                   Close and re-open log files\r\ndump                        Dump measurements and NTS keys/cookies\r\nrekey                       Re-read keys\r\nreset sources               Drop all measurements\r\nshutdown                    Stop daemon\r\n                            \r\nClient commands:            \r\ndns -n|+n                   Disable/enable resolving IP addresses to hostnames\r\ndns -4|-6|-46               Resolve hostnames only to IPv4/IPv6/both addresses" (spawn_id exp4) match glob pattern "chronyc>"? no
expect: set expect_out(spawn_id) "exp4"
expect: set expect_out(buffer) " help\r\nSystem clock:               \r\ntracking                    Display system time information\r\nmakestep                    Correct clock by stepping immediately\r\nmakestep <threshold> <updates>\r\n                            Configure automatic clock stepping\r\nmaxupdateskew <skew>        Modify maximum valid skew to update frequency\r\nwaitsync [<max-tries> [<max-correction> [<max-skew> [<interval>]]]]\r\n                            Wait until synchronised in specified limits\r\n                            \r\nTime sources:               \r\nsources [-a] [-v]           Display information about current sources\r\nsourcestats [-a] [-v]       Display statistics about collected measurements\r\nselectdata [-a] [-v]        Display information about source selection\r\nreselect                    Force reselecting synchronisation source\r\nreselectdist <dist>         Modify reselection distance\r\n                            \r\nNTP sources:                \r\nactivity                    Check how many NTP sources are online/offline\r\nauthdata [-a] [-v]          Display information about authentication\r\nntpdata [<address>]         Display information about last valid measurement\r\nadd server <name> [options] Add new NTP server\r\nadd pool <name> [options]   Add new pool of NTP servers\r\nadd peer <name> [options]   Add new NTP peer\r\ndelete <address>            Remove server or peer\r\nburst <n-good>/<n-max> [[<mask>/]<address>]\r\n                            Start rapid set of measurements\r\nmaxdelay <address> <delay>  Modify maximum valid sample delay\r\nmaxdelayratio <address> <ratio>\r\n                            Modify maximum vali\u0000 delay/minimum ratio\r\nmaxdelaydevratio <address> <ratio>\r\n                            Modify maximum valid delay/deviation ratio\r\nminpoll <address> <poll>    Modify minimum polling interval\r\nmaxpoll <address> <poll>    Modify maximum polling interval\r\nminstratum <address> <stratum>\r\n                            Modify minimum stratum\r\noffline [[<mask>/]<address>]\r\n                            Set sources in subnet to offline status\r\nonline [[<mask>/]<address>] Set sources in subnet to online status\r\nonoffline                   Set all sources to online or offline status\r\n                            according to network configuration\r\npolltarget <address> <target>\r\n                            Modify poll target\r\nrefresh                     Refresh IP addresses\r\nreload sources              Re-read *.sources files\r\nsourcename <address>        Display original name\r\n                            \r\nManual time input:          \r\nmanual off|on|reset         Disable/enable/reset settime command\r\nmanual list                 Show previous settime entries\r\nmanual delete <index>       Delete previous settime entry\r\nsettime <time>              Set daemon time\r\n                            (e.g. Sep 25, 2015 16:30:05 or 16:30:05)\r\n                            \r\nNTP access:                 \r\naccheck <address>           Check whether address is allowed\r\nclients [-p <packets>] [-k] [-r]\r\n                            Report on clients that accessed the server\r\nserverstats                 Display statistics of the server\r\nallow [<subnet>]            Allow access to subnet as a default\r\nallow all [<subnet>]        Allow access to subnet and all children\r\ndeny [<subnet>]             Deny access to subnet as a default\r\ndeny all [<subnet>]         Deny access to subnet and all children\r\nlocal [options]             Serve time even when not synchronised\r\nlocal off                   Don't serve time when not synchronised\r\nsmoothtime reset|activate   Reset/activate time smoothing\r\nsmoothing                   Display current time smoothing state\r\n                            \r\nMonitoring access:          \r\ncmdaccheck <address>        Check whether address is allowed\r\ncmdallow [<subnet>]         Allow access to subnet as a default\r\ncmdallow all [<subnet>]     Allow access to subnet and all children\r\ncmddeny [<subnet>]          Deny access to subnet as a default\r\ncmddeny all [<subnet>]      Deny access to subnet and all children\r\n                            \r\nReal-time clock:            \r\nrtcdata                     Print current RTC performance parameters\r\ntrimrtc                     Correct RTC relative to system clock\r\nwritertc                    Save RTC performance parameters to file\r\n                            \r\nOther daemon commands:      \r\ncyclelogs                   Close and re-open log files\r\ndump                        Dump measurements and NTS keys/cookies\r\nrekey                       Re-read keys\r\nreset sources               Drop all measurements\r\nshutdown                    Stop daemon\r\n                            \r\nClient commands:            \r\ndns -n|+n                   Disable/enable resolving IP addresses to hostnames\r\ndns -4|-6|-46               Resolve hostnames only to IPv4/IPv6/both addresses"

timeout <milliseconds>      Set initial response timeout
retries <retries>           Set maximum number of retries
keygen [<id> [<type> [<bits>]]]
                            Generate key for key file
exit|quit                   Leave the program
help                        Generate this help
                            
chronyc> 
expect: does "d delay/minimum ratio\r\nmaxdelaydevratio <address> <ratio>\r\n                            Modify maximum valid delay/deviation ratio\r\nminpoll <address> <poll>    Modify minimum polling interval\r\nmaxpoll <address> <poll>    Modify maximum polling interval\r\nminstratum <address> <stratum>\r\n                            Modify minimum stratum\r\noffline [[<mask>/]<address>]\r\n                            Set sources in subnet to offline status\r\nonline [[<mask>/]<address>] Set sources in subnet to online status\r\nonoffline                   Set all sources to online or offline status\r\n                            according to network configuration\r\npolltarget <address> <target>\r\n                            Modify poll target\r\nrefresh                     Refresh IP addresses\r\nreload sources              Re-read *.sources files\r\nsourcename <address>        Display original name\r\n                            \r\nManual time input:          \r\nmanual off|on|reset         Disable/enable/reset settime command\r\nmanual list                 Show previous settime entries\r\nmanual delete <index>       Delete previous settime entry\r\nsettime <time>              Set daemon time\r\n                            (e.g. Sep 25, 2015 16:30:05 or 16:30:05)\r\n                            \r\nNTP access:                 \r\naccheck <address>           Check whether address is allowed\r\nclients [-p <packets>] [-k] [-r]\r\n                            Report on clients that accessed the server\r\nserverstats                 Display statistics of the server\r\nallow [<subnet>]            Allow access to subnet as a default\r\nallow all [<subnet>]        Allow access to subnet and all children\r\ndeny [<subnet>]             Deny access to subnet as a default\r\ndeny all [<subnet>]         Deny access to subnet and all children\r\nlocal [options]             Serve time even when not synchronised\r\nlocal off                   Don't serve time when not synchronised\r\nsmoothtime reset|activate   Reset/activate time smoothing\r\nsmoothing                   Display current time smoothing state\r\n                            \r\nMonitoring access:          \r\ncmdaccheck <address>        Check whether address is allowed\r\ncmdallow [<subnet>]         Allow access to subnet as a default\r\ncmdallow all [<subnet>]     Allow access to subnet and all children\r\ncmddeny [<subnet>]          Deny access to subnet as a default\r\ncmddeny all [<subnet>]      Deny access to subnet and all children\r\n                            \r\nReal-time clock:            \r\nrtcdata                     Print current RTC performance parameters\r\ntrimrtc                     Correct RTC relative to system clock\r\nwritertc                    Save RTC performance parameters to file\r\n                            \r\nOther daemon commands:      \r\ncyclelogs                   Close and re-open log files\r\ndump                        Dump measurements and NTS keys/cookies\r\nrekey                       Re-read keys\r\nreset sources               Drop all measurements\r\nshutdown                    Stop daemon\r\n                            \r\nClient commands:            \r\ndns -n|+n                   Disable/enable resolving IP addresses to hostnames\r\ndns -4|-6|-46               Resolve hostnames only to IPv4/IPv6/both addresses\r\ntimeout <milliseconds>      Set initial response timeout\r\nretries <retries>           Set maximum number of retries\r\nkeygen [<id> [<type> [<bits>]]]\r\n                            Generate key for key file\r\nexit|quit                   Leave the program\r\nhelp                        Generate this help\r\n                            \r\nchronyc> " (spawn_id exp4) match glob pattern "chronyc>"? yes
expect: set expect_out(0,string) "chronyc>"
expect: set expect_out(spawn_id) "exp4"
expect: set expect_out(buffer) "d delay/minimum ratio\r\nmaxdelaydevratio <address> <ratio>\r\n                            Modify maximum valid delay/deviation ratio\r\nminpoll <address> <poll>    Modify minimum polling interval\r\nmaxpoll <address> <poll>    Modify maximum polling interval\r\nminstratum <address> <stratum>\r\n                            Modify minimum stratum\r\noffline [[<mask>/]<address>]\r\n                            Set sources in subnet to offline status\r\nonline [[<mask>/]<address>] Set sources in subnet to online status\r\nonoffline                   Set all sources to online or offline status\r\n                            according to network configuration\r\npolltarget <address> <target>\r\n                            Modify poll target\r\nrefresh                     Refresh IP addresses\r\nreload sources              Re-read *.sources files\r\nsourcename <address>        Display original name\r\n                            \r\nManual time input:          \r\nmanual off|on|reset         Disable/enable/reset settime command\r\nmanual list                 Show previous settime entries\r\nmanual delete <index>       Delete previous settime entry\r\nsettime <time>              Set daemon time\r\n                            (e.g. Sep 25, 2015 16:30:05 or 16:30:05)\r\n                            \r\nNTP access:                 \r\naccheck <address>           Check whether address is allowed\r\nclients [-p <packets>] [-k] [-r]\r\n                            Report on clients that accessed the server\r\nserverstats                 Display statistics of the server\r\nallow [<subnet>]            Allow access to subnet as a default\r\nallow all [<subnet>]        Allow access to subnet and all children\r\ndeny [<subnet>]             Deny access to subnet as a default\r\ndeny all [<subnet>]         Deny access to subnet and all children\r\nlocal [options]             Serve time even when not synchronised\r\nlocal off                   Don't serve time when not synchronised\r\nsmoothtime reset|activate   Reset/activate time smoothing\r\nsmoothing                   Display current time smoothing state\r\n                            \r\nMonitoring access:          \r\ncmdaccheck <address>        Check whether address is allowed\r\ncmdallow [<subnet>]         Allow access to subnet as a default\r\ncmdallow all [<subnet>]     Allow access to subnet and all children\r\ncmddeny [<subnet>]          Deny access to subnet as a default\r\ncmddeny all [<subnet>]      Deny access to subnet and all children\r\n                            \r\nReal-time clock:            \r\nrtcdata                     Print current RTC performance parameters\r\ntrimrtc                     Correct RTC relative to system clock\r\nwritertc                    Save RTC performance parameters to file\r\n                            \r\nOther daemon commands:      \r\ncyclelogs                   Close and re-open log files\r\ndump                        Dump measurements and NTS keys/cookies\r\nrekey                       Re-read keys\r\nreset sources               Drop all measurements\r\nshutdown                    Stop daemon\r\n                            \r\nClient commands:            \r\ndns -n|+n                   Disable/enable resolving IP addresses to hostnames\r\ndns -4|-6|-46               Resolve hostnames only to IPv4/IPv6/both addresses\r\ntimeout <milliseconds>      Set initial response timeout\r\nretries <retries>           Set maximum number of retries\r\nkeygen [<id> [<type> [<bits>]]]\r\n                            Generate key for key file\r\nexit|quit                   Leave the program\r\nhelp                        Generate this help\r\n                            \r\nchronyc>"
send: sending "sourcestats -v\r" to { exp4 }

expect: does " " (spawn_id exp4) match glob pattern "chronyc>"? no
sourcestats 
expect: does " sourcestats " (spawn_id exp4) match glob pattern "chronyc>"? no
-v
                             .- Number of sample points in measurement set.
                            /    .- Number of residual runs with same sign.
                           |    /    .- Length of measurement set (time).

expect: does " sourcestats -v\r\n                             .- Number of sample points in measurement set.\r\n                            /    .- Number of residual runs with same sign.\r\n                           |    /    .- Length of measurement set (time).\r\n" (spawn_id exp4) match glob pattern "chronyc>"? no
                           |   |    /      .- Est. clock freq error (ppm).
                           |   |   |      /           .- Est. error in freq.
                           |   |   |     |           /         .- Est. offset.
                           |   |   |     |          |          |   On the -.
                           |   |   |     |          |          |   samples. \
                           |   |   |     |          |          |             |
Name/IP Address            NP  NR  Span  Frequency  Freq Skew  Offset  Std Dev
==============================================================================

expect: does " sourcestats -v\r\n                             .- Number of sample points in measurement set.\r\n                            /    .- Number of residual runs with same sign.\r\n                           |    /    .- Length of measurement set (time).\r\n                           |   |    /      .- Est. clock freq error (ppm).\r\n                           |   |   |      /           .- Est. error in freq.\r\n                           |   |   |     |           /         .- Est. offset.\r\n                           |   |   |     |          |          |   On the -.\r\n                           |   |   |     |          |          |   samples. \\r\n                           |   |   |     |          |          |             |\r\nName/IP Address            NP  NR  Span  Frequency  Freq Skew  Offset  Std Dev\r\n==============================================================================\r\n" (spawn_id exp4) match glob pattern "chronyc>"? no
47.243.51.23                1   0     0     +0.000   2000.000   -10.0s  4000ms

expect: does " sourcestats -v\r\n                             .- Number of sample points in measurement set.\r\n                            /    .- Number of residual runs with same sign.\r\n                           |    /    .- Length of measurement set (time).\r\n                           |   |    /      .- Est. clock freq error (ppm).\r\n                           |   |   |      /           .- Est. error in freq.\r\n                           |   |   |     |           /         .- Est. offset.\r\n                           |   |   |     |          |          |   On the -.\r\n                           |   |   |     |          |          |   samples. \\r\n                           |   |   |     |          |          |             |\r\nName/IP Address            NP  NR  Span  Frequency  Freq Skew  Offset  Std Dev\r\n==============================================================================\r\n47.243.51.23                1   0     0     +0.000   2000.000   -10.0s  4000ms\r\n" (spawn_id exp4) match glob pattern "chronyc>"? no
time.cloudflare.com         1   0     0     +0.000   2000.000   -10.1s  4000ms

expect: does " sourcestats -v\r\n                             .- Number of sample points in measurement set.\r\n                            /    .- Number of residual runs with same sign.\r\n                           |    /    .- Length of measurement set (time).\r\n                           |   |    /      .- Est. clock freq error (ppm).\r\n                           |   |   |      /           .- Est. error in freq.\r\n                           |   |   |     |           /         .- Est. offset.\r\n                           |   |   |     |          |          |   On the -.\r\n                           |   |   |     |          |          |   samples. \\r\n                           |   |   |     |          |          |             |\r\nName/IP Address            NP  NR  Span  Frequency  Freq Skew  Offset  Std Dev\r\n==============================================================================\r\n47.243.51.23                1   0     0     +0.000   2000.000   -10.0s  4000ms\r\ntime.cloudflare.com         1   0     0     +0.000   2000.000   -10.1s  4000ms\r\n" (spawn_id exp4) match glob pattern "chronyc>"? no
time.cloudflare.com         1   0     0     +0.000   2000.000   -10.1s  4000ms

expect: does " sourcestats -v\r\n                             .- Number of sample points in measurement set.\r\n                            /    .- Number of residual runs with same sign.\r\n                           |    /    .- Length of measurement set (time).\r\n                           |   |    /      .- Est. clock freq error (ppm).\r\n                           |   |   |      /           .- Est. error in freq.\r\n                           |   |   |     |           /         .- Est. offset.\r\n                           |   |   |     |          |          |   On the -.\r\n                           |   |   |     |          |          |   samples. \\r\n                           |   |   |     |          |          |             |\r\nName/IP Address            NP  NR  Span  Frequency  Freq Skew  Offset  Std Dev\r\n==============================================================================\r\n47.243.51.23                1   0     0     +0.000   2000.000   -10.0s  4000ms\r\ntime.cloudflare.com         1   0     0     +0.000   2000.000   -10.1s  4000ms\r\ntime.cloudflare.com         1   0     0     +0.000   2000.000   -10.1s  4000ms\r\n" (spawn_id exp4) match glob pattern "chronyc>"? no
223.255.185.2               1   0     0     +0.000   2000.000   -10.0s  4000ms
chronyc> 
expect: does " sourcestats -v\r\n                             .- Number of sample points in measurement set.\r\n                            /    .- Number of residual runs with same sign.\r\n                           |    /    .- Length of measurement set (time).\r\n                           |   |    /      .- Est. clock freq error (ppm).\r\n                           |   |   |      /           .- Est. error in freq.\r\n                           |   |   |     |           /         .- Est. offset.\r\n                           |   |   |     |          |          |   On the -.\r\n                           |   |   |     |          |          |   samples. \\r\n                           |   |   |     |          |          |             |\r\nName/IP Address            NP  NR  Span  Frequency  Freq Skew  Offset  Std Dev\r\n==============================================================================\r\n47.243.51.23                1   0     0     +0.000   2000.000   -10.0s  4000ms\r\ntime.cloudflare.com         1   0     0     +0.000   2000.000   -10.1s  4000ms\r\ntime.cloudflare.com         1   0     0     +0.000   2000.000   -10.1s  4000ms\r\n223.255.185.2               1   0     0     +0.000   2000.000   -10.0s  4000ms\r\nchronyc> " (spawn_id exp4) match glob pattern "chronyc>"? yes
expect: set expect_out(0,string) "chronyc>"
expect: set expect_out(spawn_id) "exp4"
expect: set expect_out(buffer) " sourcestats -v\r\n                             .- Number of sample points in measurement set.\r\n                            /    .- Number of residual runs with same sign.\r\n                           |    /    .- Length of measurement set (time).\r\n                           |   |    /      .- Est. clock freq error (ppm).\r\n                           |   |   |      /           .- Est. error in freq.\r\n                           |   |   |     |           /         .- Est. offset.\r\n                           |   |   |     |          |          |   On the -.\r\n                           |   |   |     |          |          |   samples. \\r\n                           |   |   |     |          |          |             |\r\nName/IP Address            NP  NR  Span  Frequency  Freq Skew  Offset  Std Dev\r\n==============================================================================\r\n47.243.51.23                1   0     0     +0.000   2000.000   -10.0s  4000ms\r\ntime.cloudflare.com         1   0     0     +0.000   2000.000   -10.1s  4000ms\r\ntime.cloudflare.com         1   0     0     +0.000   2000.000   -10.1s  4000ms\r\n223.255.185.2               1   0     0     +0.000   2000.000   -10.0s  4000ms\r\nchronyc>"
send: sending "quit\r" to { exp4 }
Manual time input:          
manual off|on|reset         Disable/enable/reset settime command
manual list                 Show previous settime entries
manual delete <index>       Delete previous settime entry
expect: does " help\r\nSystem clock:               \r\ntracking                    Display system time information\r\nmakestep                    Correct clock by stepping immediately\r\nmakestep <threshold> <updates>\r\n                            Configure automatic clock stepping\r\nmaxupdateskew <skew>        Modify maximum valid skew to update frequency\r\nwaitsync [<max-tries> [<max-correction> [<max-skew> [<interval>]]]]\r\n                            Wait until synchronised in specified limits\r\n                            \r\nTime sources:               \r\nsources [-a] [-v]           Display information about current sources\r\nsourcestats [-a] [-v]       Display statistics about collected measurements\r\nselectdata [-a] [-v]        Display information about source selection\r\nreselect                    Force reselecting synchronisation source\r\nreselectdist <dist>         Modify reselection distance\r\n                            \r\nNTP sources:                \r\nactivity                    Check how many NTP sources are online/offline\r\nauthdata [-a] [-v]          Display information about authentication\r\nntpdata [<address>]         Display information about last valid measurement\r\nadd server <name> [options] Add new NTP server\r\nadd pool <name> [options]   Add new pool of NTP servers\r\nadd peer <name> [options]   Add new NTP peer\r\ndelete <address>            Remove server or peer\r\nburst <n-good>/<n-max> [[<mask>/]<address>]\r\n                            Start rapid set of measurements\r\nmaxdelay <address> <delay>  Modify maximum valid sample delay\r\nmaxdelayratio <address> <ratio>\r\n                            Modify maximum valid delay/minimum ratio\r\nmaxdelaydevratio <address> <ratio>\r\n                            Modify maximum valid delay/deviation ratio\r\nminpoll <address> <poll>    Modify minimum polling interval\r\nmaxpoll <address> <poll>    Modify maximum polling interval\r\nminstratum <address> <stratum>\r\n                            Modify minimum stratum\r\noffline [[<mask>/]<address>]\r\n                            Set sources in subnet to offline status\r\nonline [[<mask>/]<address>] Set sources in subnet to online status\r\nonoffline                   Set all sources to online or offline status\r\n                            according to network configuration\r\npolltarget <address> <target>\r\n                            Modify poll target\r\nrefresh                     Refresh IP addresses\r\nreload sources              Re-read *.sources files\r\nsourcename <address>        Display original name\r\n                            \r\nManual time input:          \r\nmanual off|on|reset         Disable/enable/reset settime command\r\nmanual list                 Show previous settime entries\r\nmanual delete <index>       Delete previous settime entry\r\nsettime <time>              Set daemon time\r\n                            (e.g. Sep 25, 2015 16:30:05 or 16:30:05)\r\n                            \r\n" (spawn_id exp4) match glob pattern "chronyc>"? no
expect: does " help\r\nSystem clock:               \r\ntracking                    Display system time information\r\nmakestep                    Correct clock by stepping immediately\r\nmakestep <threshold> <updates>\r\n                            Configure automatic clock stepping\r\nmaxupdateskew <skew>        Modify maximum valid skew to update frequency\r\nwaitsync [<max-tries> [<max-correction> [<max-skew> [<interval>]]]]\r\n                            Wait until synchronised in specified limits\r\n                            \r\nTime sources:               \r\nsources [-a] [-v]           Display information about current sources\r\nsourcestats [-a] [-v]       Display statistics about collected measurements\r\nselectdata [-a] [-v]        Display information about source selection\r\nreselect                    Force reselecting synchronisation source\r\nreselectdist <dist>         Modify reselection distance\r\n                            \r\nNTP sources:                \r\nactivity                    Check how many NTP sources are online/offline\r\nauthdata [-a] [-v]          Display information about authentication\r\nntpdata [<address>]         Display information about last valid measurement\r\nadd server <name> [options] Add new NTP server\r\nadd pool <name> [options]   Add new pool of NTP servers\r\nadd peer <name> [options]   Add new NTP peer\r\ndelete <address>            Remove server or peer\r\nburst <n-good>/<n-max> [[<mask>/]<address>]\r\n                            Start rapid set of measurements\r\nmaxdelay <address> <delay>  Modify maximum valid sample delay\r\nmaxdelayratio <address> <ratio>\r\n                            Modify maximum valid delay/minimum ratio\r\nmaxdelaydevratio <address> <ratio>\r\n                            Modify maximum valid delay/deviation ratio\r\nminpoll <address> <poll>    Modify minimum polling interval\r\nmaxpoll <address> <poll>    Modify maximum polling interval\r\nminstratum <address> <stratum>\r\n                            Modify minimum stratum\r\noffline [[<mask>/]<address>]\r\n                            Set sources in subnet to offline status\r\nonline [[<mask>/]<address>] Set sources in subnet to online status\r\nonoffline                   Set all sources to online or offline status\r\n                            according to network configuration\r\npolltarget <address> <target>\r\n                            Modify poll target\r\nrefresh                     Refresh IP addresses\r\nreload sources              Re-read *.sources files\r\nsourcename <address>        Display original name\r\n                            \r\nManual time input:          \r\nmanual off|on|reset         Disable/enable/reset settime command\r\nmanual list                 Show previous settime entries\r\nmanual delete <index>       Delete previous settime entry\r\nsettime <time>              Set daemon time\r\n                            (e.g. Sep 25, 2015 16:30:05 or 16:30:05)\r\n                            \r\nNTP access:                 \r\naccheck <address>           Check whether address is allowed\r\nclients [-p <packets>] [-k] [-r]\r\n                            Report on clients that accessed the server\r\nserverstats                 Display statistics of the server\r\nallow [<subnet>]            Allow access to subnet as a default\r\nallow all [<subnet>]        Allow access to subnet and all children\r\ndeny [<subnet>]             Deny access to subnet as a default\r\ndeny all [<subnet>]         Deny access to subnet and all children\r\nlocal [options]             Serve time even when not synchronised\r\nlocal off                   Don't serve time when not synchronised\r\nsmoothtime reset|activate   Reset/activate time smoothing\r\nsmoothing                   Display current time smoothing state\r\n                            \r\nMonitoring access:          \r\ncmdaccheck <address>        Check whether address is allowed\r\ncmdallow [<subnet>]         Allow access to subnet as a default\r\ncmdallow all [<subnet>]     Allow access to subnet and all children\r\ncmddeny [<subnet>]          Deny access to subnet as a default\r\ncmddeny all [<subnet>]      Deny access to subnet and all children\r\n                            \r\nReal-time clock:            \r\nrtcdata                     Print current RTC performance parameters\r\ntrimrtc                     Correct RTC relative to system clock\r\nwritertc                    Save RTC performance parameters to file\r\n                            \r\nOther daemon commands:      \r\ncyclelogs                   Close and re-open log files\r\ndump                        Dump measurements and NTS keys/cookies\r\nrekey                       Re-read keys\r\nreset sources               Drop all measurements\r\nshutdown                    Stop daemon\r\n                            \r\nClient commands:            \r\ndns -n|+n                   Disable/enable resolving IP addresses to hostnames\r\ndns -4|-6|-46               Resolve hostnames only to IPv4/IPv6/both addresses" (spawn_id exp4) match glob pattern "chronyc>"? no
expect: set expect_out(buffer) " help\r\nSystem clock:               \r\ntracking                    Display system time information\r\nmakestep                    Correct clock by stepping immediately\r\nmakestep <threshold> <updates>\r\n                            Configure automatic clock stepping\r\nmaxupdateskew <skew>        Modify maximum valid skew to update frequency\r\nwaitsync [<max-tries> [<max-correction> [<max-skew> [<interval>]]]]\r\n                            Wait until synchronised in specified limits\r\n                            \r\nTime sources:               \r\nsources [-a] [-v]           Display information about current sources\r\nsourcestats [-a] [-v]       Display statistics about collected measurements\r\nselectdata [-a] [-v]        Display information about source selection\r\nreselect                    Force reselecting synchronisation source\r\nreselectdist <dist>         Modify reselection distance\r\n                            \r\nNTP sources:                \r\nactivity                    Check how many NTP sources are online/offline\r\nauthdata [-a] [-v]          Display information about authentication\r\nntpdata [<address>]         Display information about last valid measurement\r\nadd server <name> [options] Add new NTP server\r\nadd pool <name> [options]   Add new pool of NTP servers\r\nadd peer <name> [options]   Add new NTP peer\r\ndelete <address>            Remove server or peer\r\nburst <n-good>/<n-max> [[<mask>/]<address>]\r\n                            Start rapid set of measurements\r\nmaxdelay <address> <delay>  Modify maximum valid sample delay\r\nmaxdelayratio <address> <ratio>\r\n                            Modify maximum vali\u0000 delay/minimum ratio\r\nmaxdelaydevratio <address> <ratio>\r\n                            Modify maximum valid delay/deviation ratio\r\nminpoll <address> <poll>    Modify minimum polling interval\r\nmaxpoll <address> <poll>    Modify maximum polling interval\r\nminstratum <address> <stratum>\r\n                            Modify minimum stratum\r\noffline [[<mask>/]<address>]\r\n                            Set sources in subnet to offline status\r\nonline [[<mask>/]<address>] Set sources in subnet to online status\r\nonoffline                   Set all sources to online or offline status\r\n                            according to network configuration\r\npolltarget <address> <target>\r\n                            Modify poll target\r\nrefresh                     Refresh IP addresses\r\nreload sources              Re-read *.sources files\r\nsourcename <address>        Display original name\r\n                            \r\nManual time input:          \r\nmanual off|on|reset         Disable/enable/reset settime command\r\nmanual list                 Show previous settime entries\r\nmanual delete <index>       Delete previous settime entry\r\nsettime <time>              Set daemon time\r\n                            (e.g. Sep 25, 2015 16:30:05 or 16:30:05)\r\n                            \r\nNTP access:                 \r\naccheck <address>           Check whether address is allowed\r\nclients [-p <packets>] [-k] [-r]\r\n                            Report on clients that accessed the server\r\nserverstats                 Display statistics of the server\r\nallow [<subnet>]            Allow access to subnet as a default\r\nallow all [<subnet>]        Allow access to subnet and all children\r\ndeny [<subnet>]             Deny access to subnet as a default\r\ndeny all [<subnet>]         Deny access to subnet and all children\r\nlocal [options]             Serve time even when not synchronised\r\nlocal off                   Don't serve time when not synchronised\r\nsmoothtime reset|activate   Reset/activate time smoothing\r\nsmoothing                   Display current time smoothing state\r\n                            \r\nMonitoring access:          \r\ncmdaccheck <address>        Check whether address is allowed\r\ncmdallow [<subnet>]         Allow access to subnet as a default\r\ncmdallow all [<subnet>]     Allow access to subnet and all children\r\ncmddeny [<subnet>]          Deny access to subnet as a default\r\ncmddeny all [<subnet>]      Deny access to subnet and all children\r\n                            \r\nReal-time clock:            \r\nrtcdata                     Print current RTC performance parameters\r\ntrimrtc                     Correct RTC relative to system clock\r\nwritertc                    Save RTC performance parameters to file\r\n                            \r\nOther daemon commands:      \r\ncyclelogs                   Close and re-open log files\r\ndump                        Dump measurements and NTS keys/cookies\r\nrekey                       Re-read keys\r\nreset sources               Drop all measurements\r\nshutdown                    Stop daemon\r\n                            \r\nClient commands:            \r\ndns -n|+n                   Disable/enable resolving IP addresses to hostnames\r\ndns -4|-6|-46               Resolve hostnames only to IPv4/IPv6/both addresses"
expect: does "d delay/minimum ratio\r\nmaxdelaydevratio <address> <ratio>\r\n                            Modify maximum valid delay/deviation ratio\r\nminpoll <address> <poll>    Modify minimum polling interval\r\nmaxpoll <address> <poll>    Modify maximum polling interval\r\nminstratum <address> <stratum>\r\n                            Modify minimum stratum\r\noffline [[<mask>/]<address>]\r\n                            Set sources in subnet to offline status\r\nonline [[<mask>/]<address>] Set sources in subnet to online status\r\nonoffline                   Set all sources to online or offline status\r\n                            according to network configuration\r\npolltarget <address> <target>\r\n                            Modify poll target\r\nrefresh                     Refresh IP addresses\r\nreload sources              Re-read *.sources files\r\nsourcename <address>        Display original name\r\n                            \r\nManual time input:          \r\nmanual off|on|reset         Disable/enable/reset settime command\r\nmanual list                 Show previous settime entries\r\nmanual delete <index>       Delete previous settime entry\r\nsettime <time>              Set daemon time\r\n                            (e.g. Sep 25, 2015 16:30:05 or 16:30:05)\r\n                            \r\nNTP access:                 \r\naccheck <address>           Check whether address is allowed\r\nclients [-p <packets>] [-k] [-r]\r\n                            Report on clients that accessed the server\r\nserverstats                 Display statistics of the server\r\nallow [<subnet>]            Allow access to subnet as a default\r\nallow all [<subnet>]        Allow access to subnet and all children\r\ndeny [<subnet>]             Deny access to subnet as a default\r\ndeny all [<subnet>]         Deny access to subnet and all children\r\nlocal [options]             Serve time even when not synchronised\r\nlocal off                   Don't serve time when not synchronised\r\nsmoothtime reset|activate   Reset/activate time smoothing\r\nsmoothing                   Display current time smoothing state\r\n                            \r\nMonitoring access:          \r\ncmdaccheck <address>        Check whether address is allowed\r\ncmdallow [<subnet>]         Allow access to subnet as a default\r\ncmdallow all [<subnet>]     Allow access to subnet and all children\r\ncmddeny [<subnet>]          Deny access to subnet as a default\r\ncmddeny all [<subnet>]      Deny access to subnet and all children\r\n                            \r\nReal-time clock:            \r\nrtcdata                     Print current RTC performance parameters\r\ntrimrtc                     Correct RTC relative to system clock\r\nwritertc                    Save RTC performance parameters to file\r\n                            \r\nOther daemon commands:      \r\ncyclelogs                   Close and re-open log files\r\ndump                        Dump measurements and NTS keys/cookies\r\nrekey                       Re-read keys\r\nreset sources               Drop all measurements\r\nshutdown                    Stop daemon\r\n                            \r\nClient commands:            \r\ndns -n|+n                   Disable/enable resolving IP addresses to hostnames\r\ndns -4|-6|-46               Resolve hostnames only to IPv4/IPv6/both addresses\r\ntimeout <milliseconds>      Set initial response timeout\r\nretries <retries>           Set maximum number of retries\r\nkeygen [<id> [<type> [<bits>]]]\r\n                            Generate key for key file\r\nexit|quit                   Leave the program\r\nhelp                        Generate this help\r\n                            \r\nchronyc> " (spawn_id exp4) match glob pattern "chronyc>"? yes
expect: set expect_out(buffer) "d delay/minimum ratio\r\nmaxdelaydevratio <address> <ratio>\r\n                            Modify maximum valid delay/deviation ratio\r\nminpoll <address> <poll>    Modify minimum polling interval\r\nmaxpoll <address> <poll>    Modify maximum polling interval\r\nminstratum <address> <stratum>\r\n                            Modify minimum stratum\r\noffline [[<mask>/]<address>]\r\n                            Set sources in subnet to offline status\r\nonline [[<mask>/]<address>] Set sources in subnet to online status\r\nonoffline                   Set all sources to online or offline status\r\n                            according to network configuration\r\npolltarget <address> <target>\r\n                            Modify poll target\r\nrefresh                     Refresh IP addresses\r\nreload sources              Re-read *.sources files\r\nsourcename <address>        Display original name\r\n                            \r\nManual time input:          \r\nmanual off|on|reset         Disable/enable/reset settime command\r\nmanual list                 Show previous settime entries\r\nmanual delete <index>       Delete previous settime entry\r\nsettime <time>              Set daemon time\r\n                            (e.g. Sep 25, 2015 16:30:05 or 16:30:05)\r\n                            \r\nNTP access:                 \r\naccheck <address>           Check whether address is allowed\r\nclients [-p <packets>] [-k] [-r]\r\n                            Report on clients that accessed the server\r\nserverstats                 Display statistics of the server\r\nallow [<subnet>]            Allow access to subnet as a default\r\nallow all [<subnet>]        Allow access to subnet and all children\r\ndeny [<subnet>]             Deny access to subnet as a default\r\ndeny all [<subnet>]         Deny access to subnet and all children\r\nlocal [options]             Serve time even when not synchronised\r\nlocal off                   Don't serve time when not synchronised\r\nsmoothtime reset|activate   Reset/activate time smoothing\r\nsmoothing                   Display current time smoothing state\r\n                            \r\nMonitoring access:          \r\ncmdaccheck <address>        Check whether address is allowed\r\ncmdallow [<subnet>]         Allow access to subnet as a default\r\ncmdallow all [<subnet>]     Allow access to subnet and all children\r\ncmddeny [<subnet>]          Deny access to subnet as a default\r\ncmddeny all [<subnet>]      Deny access to subnet and all children\r\n                            \r\nReal-time clock:            \r\nrtcdata                     Print current RTC performance parameters\r\ntrimrtc                     Correct RTC relative to system clock\r\nwritertc                    Save RTC performance parameters to file\r\n                            \r\nOther daemon commands:      \r\ncyclelogs                   Close and re-open log files\r\ndump                        Dump measurements and NTS keys/cookies\r\nrekey                       Re-read keys\r\nreset sources               Drop all measurements\r\nshutdown                    Stop daemon\r\n                            \r\nClient commands:            \r\ndns -n|+n                   Disable/enable resolving IP addresses to hostnames\r\ndns -4|-6|-46               Resolve hostnames only to IPv4/IPv6/both addresses\r\ntimeout <milliseconds>      Set initial response timeout\r\nretries <retries>           Set maximum number of retries\r\nkeygen [<id> [<type> [<bits>]]]\r\n                            Generate key for key file\r\nexit|quit                   Leave the program\r\nhelp                        Generate this help\r\n                            \r\nchronyc>"
Name/IP Address            NP  NR  Span  Frequency  Freq Skew  Offset  Std Dev
expect: does " sourcestats -v\r\n                             .- Number of sample points in measurement set.\r\n                            /    .- Number of residual runs with same sign.\r\n                           |    /    .- Length of measurement set (time).\r\n                           |   |    /      .- Est. clock freq error (ppm).\r\n                           |   |   |      /           .- Est. error in freq.\r\n                           |   |   |     |           /         .- Est. offset.\r\n                           |   |   |     |          |          |   On the -.\r\n                           |   |   |     |          |          |   samples. \\r\n                           |   |   |     |          |          |             |\r\nName/IP Address            NP  NR  Span  Frequency  Freq Skew  Offset  Std Dev\r\n==============================================================================\r\n" (spawn_id exp4) match glob pattern "chronyc>"? no
expect: does " sourcestats -v\r\n                             .- Number of sample points in measurement set.\r\n                            /    .- Number of residual runs with same sign.\r\n                           |    /    .- Length of measurement set (time).\r\n                           |   |    /      .- Est. clock freq error (ppm).\r\n                           |   |   |      /           .- Est. error in freq.\r\n                           |   |   |     |           /         .- Est. offset.\r\n                           |   |   |     |          |          |   On the -.\r\n                           |   |   |     |          |          |   samples. \\r\n                           |   |   |     |          |          |             |\r\nName/IP Address            NP  NR  Span  Frequency  Freq Skew  Offset  Std Dev\r\n==============================================================================\r\n47.243.51.23                1   0     0     +0.000   2000.000   -10.0s  4000ms\r\n" (spawn_id exp4) match glob pattern "chronyc>"? no
expect: does " sourcestats -v\r\n                             .- Number of sample points in measurement set.\r\n                            /    .- Number of residual runs with same sign.\r\n                           |    /    .- Length of measurement set (time).\r\n                           |   |    /      .- Est. clock freq error (ppm).\r\n                           |   |   |      /           .- Est. error in freq.\r\n                           |   |   |     |           /         .- Est. offset.\r\n                           |   |   |     |          |          |   On the -.\r\n                           |   |   |     |          |          |   samples. \\r\n                           |   |   |     |          |          |             |\r\nName/IP Address            NP  NR  Span  Frequency  Freq Skew  Offset  Std Dev\r\n==============================================================================\r\n47.243.51.23                1   0     0     +0.000   2000.000   -10.0s  4000ms\r\ntime.cloudflare.com         1   0     0     +0.000   2000.000   -10.1s  4000ms\r\n" (spawn_id exp4) match glob pattern "chronyc>"? no
expect: does " sourcestats -v\r\n                             .- Number of sample points in measurement set.\r\n                            /    .- Number of residual runs with same sign.\r\n                           |    /    .- Length of measurement set (time).\r\n                           |   |    /      .- Est. clock freq error (ppm).\r\n                           |   |   |      /           .- Est. error in freq.\r\n                           |   |   |     |           /         .- Est. offset.\r\n                           |   |   |     |          |          |   On the -.\r\n                           |   |   |     |          |          |   samples. \\r\n                           |   |   |     |          |          |             |\r\nName/IP Address            NP  NR  Span  Frequency  Freq Skew  Offset  Std Dev\r\n==============================================================================\r\n47.243.51.23                1   0     0     +0.000   2000.000   -10.0s  4000ms\r\ntime.cloudflare.com         1   0     0     +0.000   2000.000   -10.1s  4000ms\r\ntime.cloudflare.com         1   0     0     +0.000   2000.000   -10.1s  4000ms\r\n" (spawn_id exp4) match glob pattern "chronyc>"? no
expect: does " sourcestats -v\r\n                             .- Number of sample points in measurement set.\r\n                            /    .- Number of residual runs with same sign.\r\n                           |    /    .- Length of measurement set (time).\r\n                           |   |    /      .- Est. clock freq error (ppm).\r\n                           |   |   |      /           .- Est. error in freq.\r\n                           |   |   |     |           /         .- Est. offset.\r\n                           |   |   |     |          |          |   On the -.\r\n                           |   |   |     |          |          |   samples. \\r\n                           |   |   |     |          |          |             |\r\nName/IP Address            NP  NR  Span  Frequency  Freq Skew  Offset  Std Dev\r\n==============================================================================\r\n47.243.51.23                1   0     0     +0.000   2000.000   -10.0s  4000ms\r\ntime.cloudflare.com         1   0     0     +0.000   2000.000   -10.1s  4000ms\r\ntime.cloudflare.com         1   0     0     +0.000   2000.000   -10.1s  4000ms\r\n223.255.185.2               1   0     0     +0.000   2000.000   -10.0s  4000ms\r\nchronyc> " (spawn_id exp4) match glob pattern "chronyc>"? yes
expect: set expect_out(buffer) " sourcestats -v\r\n                             .- Number of sample points in measurement set.\r\n                            /    .- Number of residual runs with same sign.\r\n                           |    /    .- Length of measurement set (time).\r\n                           |   |    /      .- Est. clock freq error (ppm).\r\n                           |   |   |      /           .- Est. error in freq.\r\n                           |   |   |     |           /         .- Est. offset.\r\n                           |   |   |     |          |          |   On the -.\r\n                           |   |   |     |          |          |   samples. \\r\n                           |   |   |     |          |          |             |\r\nName/IP Address            NP  NR  Span  Frequency  Freq Skew  Offset  Std Dev\r\n==============================================================================\r\n47.243.51.23                1   0     0     +0.000   2000.000   -10.0s  4000ms\r\ntime.cloudflare.com         1   0     0     +0.000   2000.000   -10.1s  4000ms\r\ntime.cloudflare.com         1   0     0     +0.000   2000.000   -10.1s  4000ms\r\n223.255.185.2               1   0     0     +0.000   2000.000   -10.0s  4000ms\r\nchronyc>"
Wed Sep 25 15:15:17 2024 - INFO  - End to run test.
Wed Sep 25 15:15:17 2024 - INFO  - succeed to execute the case.
Wed Sep 25 15:15:17 2024 - INFO  - Start to restore the test environment.
Wed Sep 25 15:15:18 2024 - WARN  - no thing to do.
Wed Sep 25 15:15:18 2024 - INFO  - End to restore the test environment.
